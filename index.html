<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kuiz Jujukan Nombor</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f2f9f6;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    margin: 0;
    padding: 20px;
  }
  .container {
    background: #fff;
    padding: 20px 25px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    max-width: 600px;
    width: 100%;
    animation: fadeIn 0.6s ease-in-out;
  }
  h2 {
    text-align: center;
    margin-bottom: 10px;
  }
  .instruction {
    background: #e8f5e9;
    border-left: 6px solid #4caf50;
    padding: 12px;
    border-radius: 8px;
    font-weight: bold;
    margin-bottom: 20px;
  }
  .language-switch {
    text-align: center;
    margin-bottom: 15px;
  }
  .language-switch button {
    margin: 0 5px;
    padding: 6px 12px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    background: #4caf50;
    color: #fff;
    font-weight: bold;
  }
  .language-switch button:hover {
    background: #45a049;
  }
  #question {
    font-size: 1.2rem;
    margin-bottom: 15px;
    animation: fadeIn 0.5s ease-in-out;
  }
  .seq-box {
    display: inline-block;
    background: #ffffff;
    border: 2px solid #4caf50;
    border-radius: 8px;
    padding: 8px 14px;
    margin: 4px;
    font-weight: bold;
    font-size: 1.2rem;
    min-width: 40px;
    text-align: center;
    box-shadow: 2px 2px 6px rgba(0,0,0,0.1);
    animation: zoomIn 0.5s ease;
  }
  input {
    padding: 8px;
    width: calc(100% - 20px);
    border: 2px solid #ccc;
    border-radius: 8px;
    margin-bottom: 10px;
    font-size: 1rem;
    transition: 0.3s;
  }
  input:focus {
    border-color: #4caf50;
    outline: none;
    box-shadow: 0 0 6px rgba(76, 175, 80, 0.5);
  }
  button {
    padding: 10px 16px;
    margin: 5px 0;
    border: none;
    border-radius: 8px;
    background: #4caf50;
    color: white;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
  }
  button:hover {
    background: #45a049;
    transform: scale(1.05);
  }
  #feedback {
    font-weight: bold;
    margin: 10px 0;
  }
  #score {
    margin-top: 10px;
    font-weight: bold;
  }
  .progress {
    background: #ddd;
    border-radius: 20px;
    overflow: hidden;
    height: 18px;
    margin-top: 10px;
  }
  .progress-bar {
    height: 100%;
    background: #4caf50;
    width: 0%;
    transition: width 0.5s ease;
  }
  @keyframes fadeIn {
    from {opacity:0; transform:translateY(10px);}
    to {opacity:1; transform:translateY(0);}
  }
  @keyframes zoomIn {
    from {transform: scale(0.5); opacity: 0;}
    to {transform: scale(1); opacity: 1;}
  }
</style>
</head>
<body>
<div class="container">
  <div class="language-switch">
    <button onclick="setLanguage('ms')">Bahasa Melayu</button>
    <button onclick="setLanguage('en')">English</button>
  </div>
  <h2 id="quizTitle">Kuiz Jujukan Nombor</h2>
  <div id="instruction" class="instruction">
    Arahan: Murid perlu melengkapkan nombor yang hilang. Terdapat 10 soalan.
  </div>
  <div id="question"></div>
  <input type="text" id="answer" placeholder="Masukkan jawapan di sini">
  <br>
  <button onclick="checkAnswer()" id="submitBtn">Hantar</button>
  <div id="feedback"></div>
  <div id="score">Skor: 0</div>
  <div class="progress">
    <div class="progress-bar" id="progressFill"></div>
  </div>
  <div id="timer">Masa: 10s</div>
  <button onclick="restartQuiz()" id="restartBtn" style="display:none;">Jawab Semula</button>
</div>

<script>
let language = "ms";
let current = 0;
let score = 0;
let timer;
let timeLeft = 10;

// Soalan BM
const questions_ms = [
  {q:"2, 4, 6, ?",a:"8"},
  {q:"5, 10, 15, ?",a:"20"},
  {q:"1, 3, 5, ?",a:"7"},
  {q:"10, 20, 30, ?",a:"40"},
  {q:"7, 14, 21, ?",a:"28"},
  {q:"9, 18, 27, ?",a:"36"},
  {q:"11, 22, 33, ?",a:"44"},
  {q:"4, 8, 12, ?",a:"16"},
  {q:"6, 12, 18, ?",a:"24"},
  {q:"15, 30, 45, ?",a:"60"}
];

// Soalan EN
const questions_en = [
  {q:"2, 4, 6, ?",a:"8"},
  {q:"5, 10, 15, ?",a:"20"},
  {q:"1, 3, 5, ?",a:"7"},
  {q:"10, 20, 30, ?",a:"40"},
  {q:"7, 14, 21, ?",a:"28"},
  {q:"9, 18, 27, ?",a:"36"},
  {q:"11, 22, 33, ?",a:"44"},
  {q:"4, 8, 12, ?",a:"16"},
  {q:"6, 12, 18, ?",a:"24"},
  {q:"15, 30, 45, ?",a:"60"}
];

// Teks UI
const uiText = {
  ms: {
    title:"Kuiz Jujukan Nombor",
    instruction:"Arahan: Murid perlu melengkapkan nombor yang hilang. Terdapat 10 soalan.",
    placeholder:"Masukkan jawapan di sini",
    submit:"Hantar",
    restart:"Jawab Semula",
    score:"Skor",
    time:"Masa"
  },
  en: {
    title:"Number Sequence Quiz",
    instruction:"Instruction: Students must complete the missing number. There are 10 questions.",
    placeholder:"Enter your answer here",
    submit:"Submit",
    restart:"Try Again",
    score:"Score",
    time:"Time"
  }
};

let questions = [...questions_ms];

function setLanguage(lang){
  language = lang;
  let t = uiText[lang];
  document.getElementById("quizTitle").innerText = t.title;
  document.getElementById("instruction").innerText = t.instruction;
  document.getElementById("answer").placeholder = t.placeholder;
  document.getElementById("submitBtn").innerText = t.submit;
  document.getElementById("restartBtn").innerText = t.restart;
  document.getElementById("score").innerText = `${t.score}: ${score}`;
  document.getElementById("timer").innerText = `${t.time}: ${timeLeft}s`;
  questions = (lang === "ms") ? [...questions_ms] : [...questions_en];
  restartQuiz();
}

function formatSequence(q) {
  return q.split(",").map(num => {
    return `<span class="seq-box">${num.trim()}</span>`;
  }).join("");
}

function loadQuestion() {
  if(current >= questions.length) { endQuiz(); return; }
  document.getElementById("question").innerHTML = 
    `${language==="ms"?"Soalan":"Question"} ${current+1}:<br><br>` + formatSequence(questions[current].q);
  document.getElementById("answer").value = "";
  document.getElementById("feedback").innerText = "";
  document.getElementById("progressFill").style.width = ((current)/questions.length)*100 + "%";
  resetTimer();
}

function checkAnswer(){
  let ans = document.getElementById("answer").value.trim();
  if(ans === questions[current].a){
    score++;
    document.getElementById("feedback").style.color="green";
    document.getElementById("feedback").innerText = language==="ms"?"Betul!":"Correct!";
  } else {
    document.getElementById("feedback").style.color="red";
    document.getElementById("feedback").innerText = language==="ms"?"Salah! Jawapan: ":"Wrong! Answer: " + questions[current].a;
  }
  document.getElementById("score").innerText = `${uiText[language].score}: ${score}`;
  current++;
  setTimeout(loadQuestion,1000);
}

function endQuiz(){
  document.getElementById("question").innerHTML = language==="ms"?"Kuiz Tamat!":"Quiz Finished!";
  document.getElementById("answer").style.display="none";
  document.getElementById("submitBtn").style.display="none";
  document.getElementById("restartBtn").style.display="inline-block";
  clearInterval(timer);
}

function restartQuiz(){
  current=0; score=0; timeLeft=10;
  document.getElementById("answer").style.display="inline-block";
  document.getElementById("submitBtn").style.display="inline-block";
  document.getElementById("restartBtn").style.display="none";
  document.getElementById("score").innerText = `${uiText[language].score}: 0`;
  loadQuestion();
}

function resetTimer(){
  clearInterval(timer);
  timeLeft=10;
  document.getElementById("timer").innerText = `${uiText[language].time}: ${timeLeft}s`;
  timer = setInterval(()=>{
    timeLeft--;
    document.getElementById("timer").innerText = `${uiText[language].time}: ${timeLeft}s`;
    if(timeLeft<=0){
      clearInterval(timer);
      checkAnswer();
    }
  },1000);
}

setLanguage("ms"); // default
</script>
</body>
</html>
