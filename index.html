<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Praktis Pengangkutan Awam Malaysia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .bounce { animation: bounce 0.6s ease-in-out; }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-10px); } 60% { transform: translateY(-5px); } }
        .pulse-ring { animation: pulse-ring 2s infinite; }
        @keyframes pulse-ring { 0% { transform: scale(0.33); } 40%, 50% { opacity: 1; } 100% { opacity: 0; transform: scale(1.2); } }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-green-50 min-h-screen">
    <!-- Header -->
    <div class="bg-gradient-to-r from-blue-600 to-green-600 text-white p-4 shadow-lg">
        <div class="max-w-4xl mx-auto">
            <h1 class="text-2xl md:text-3xl font-bold text-center">ğŸšŒ Praktis: Pengangkutan Awam di Malaysia</h1>
            <p class="text-center mt-2 text-blue-100">Geografi Tingkatan 2 - Bab 5</p>
        </div>
    </div>

    <!-- Control Panel -->
    <div class="max-w-4xl mx-auto p-4">
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <h2 class="text-xl font-semibold mb-4 text-gray-800">ğŸ“Š Panel Kawalan</h2>
            <div class="grid grid-cols-2 md:grid-cols-6 gap-3">
                <button onclick="resetQuiz()" class="bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg transition-all duration-300 transform hover:scale-105 text-sm">
                    ğŸ”„ Mula Semula
                </button>
                <button onclick="showHint()" class="bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded-lg transition-all duration-300 transform hover:scale-105 text-sm">
                    ğŸ’¡ Petunjuk
                </button>
                <button onclick="showStats()" class="bg-purple-500 hover:bg-purple-600 text-white px-3 py-2 rounded-lg transition-all duration-300 transform hover:scale-105 text-sm">
                    ğŸ“ˆ Statistik
                </button>
                <button onclick="toggleSound()" class="bg-gray-500 hover:bg-gray-600 text-white px-3 py-2 rounded-lg transition-all duration-300 transform hover:scale-105 text-sm">
                    ğŸ”Š Bunyi
                </button>
                <button onclick="showProgress()" class="bg-indigo-500 hover:bg-indigo-600 text-white px-3 py-2 rounded-lg transition-all duration-300 transform hover:scale-105 text-sm">
                    ğŸ“Š Kemajuan
                </button>
                <button onclick="showNotes()" class="bg-teal-500 hover:bg-teal-600 text-white px-3 py-2 rounded-lg transition-all duration-300 transform hover:scale-105 text-sm">
                    ğŸ“ Nota
                </button>
            </div>
        </div>

        <!-- Score Display -->
        <div class="bg-white rounded-xl shadow-lg p-4 mb-6">
            <div class="flex justify-between items-center">
                <div class="text-center">
                    <div class="text-2xl font-bold text-green-600" id="score">0</div>
                    <div class="text-sm text-gray-600">Markah</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-blue-600" id="question-count">1/10</div>
                    <div class="text-sm text-gray-600">Soalan</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-purple-600" id="streak">0</div>
                    <div class="text-sm text-gray-600">Berturut</div>
                </div>
            </div>
        </div>

        <!-- Quiz Container -->
        <div id="quiz-container" class="bg-white rounded-xl shadow-lg p-6 fade-in">
            <!-- Question will be loaded here -->
        </div>

        <!-- Results Container -->
        <div id="results-container" class="bg-white rounded-xl shadow-lg p-6 hidden">
            <div class="text-center">
                <div class="text-6xl mb-4" id="result-emoji">ğŸ‰</div>
                <h2 class="text-2xl font-bold mb-4" id="result-title">Tahniah!</h2>
                <p class="text-lg mb-6" id="result-message"></p>
                <button onclick="resetQuiz()" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg text-lg font-semibold transition-all duration-300 transform hover:scale-105">
                    Cuba Lagi
                </button>
            </div>
        </div>
    </div>

    <!-- Hint Modal -->
    <div id="hint-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-6 m-4 max-w-md">
            <h3 class="text-lg font-semibold mb-4">ğŸ’¡ Petunjuk</h3>
            <p id="hint-text" class="text-gray-700 mb-4"></p>
            <button onclick="closeHint()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg">Tutup</button>
        </div>
    </div>

    <!-- Progress Modal -->
    <div id="progress-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-6 m-4 max-w-lg">
            <h3 class="text-lg font-semibold mb-4">ğŸ“Š Kemajuan Pembelajaran</h3>
            <div id="progress-content" class="text-gray-700 mb-4"></div>
            <button onclick="closeProgress()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg">Tutup</button>
        </div>
    </div>

    <!-- Notes Modal -->
    <div id="notes-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-6 m-4 max-w-2xl max-h-96 overflow-y-auto">
            <h3 class="text-lg font-semibold mb-4">ğŸ“ Nota Pembelajaran: Pengangkutan Awam Malaysia</h3>
            <div class="text-gray-700 mb-4 space-y-4">
                <div class="bg-blue-50 p-4 rounded-lg">
                    <h4 class="font-semibold text-blue-800 mb-2">ğŸš‡ Pengangkutan Rel</h4>
                    <ul class="text-sm space-y-1">
                        <li>â€¢ <strong>LRT:</strong> Menghubungkan kawasan bandar (Ampang, Kelana Jaya)</li>
                        <li>â€¢ <strong>MRT:</strong> Sistem terbaru, laluan Sungai Buloh-Kajang</li>
                        <li>â€¢ <strong>KTM Komuter:</strong> Perkhidmatan kereta api tempatan</li>
                        <li>â€¢ <strong>KLIA Ekspres:</strong> Terus ke lapangan terbang</li>
                    </ul>
                </div>
                <div class="bg-green-50 p-4 rounded-lg">
                    <h4 class="font-semibold text-green-800 mb-2">ğŸšŒ Pengangkutan Jalan Raya</h4>
                    <ul class="text-sm space-y-1">
                        <li>â€¢ <strong>Bas Ekspres:</strong> Perjalanan jarak jauh antara negeri</li>
                        <li>â€¢ <strong>Bas Bandar:</strong> Perkhidmatan dalam bandar (RapidKL)</li>
                        <li>â€¢ <strong>Bas Nadi Putra:</strong> Khusus Putrajaya & Cyberjaya</li>
                    </ul>
                </div>
                <div class="bg-cyan-50 p-4 rounded-lg">
                    <h4 class="font-semibold text-cyan-800 mb-2">ğŸš¢ Pengangkutan Air</h4>
                    <ul class="text-sm space-y-1">
                        <li>â€¢ <strong>Feri Pulau Pinang:</strong> Butterworth â†” Georgetown</li>
                        <li>â€¢ <strong>Feri Langkawi:</strong> Kuala Perlis/Kuala Kedah â†” Langkawi</li>
                        <li>â€¢ <strong>Bot Sungai:</strong> Perkhidmatan tempatan di Sarawak</li>
                    </ul>
                </div>
            </div>
            <button onclick="closeNotes()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg">Tutup</button>
        </div>
    </div>

    <script>
        let currentQuestion = 0;
        let score = 0;
        let streak = 0;
        let soundEnabled = true;

        const questions = [
            {
                situation: "Ahmad ingin pergi dari Kuala Lumpur ke Johor Bahru untuk melawat keluarga. Perjalanan ini mengambil masa kira-kira 4-5 jam.",
                question: "Apakah pengangkutan awam yang paling sesuai untuk Ahmad?",
                options: ["ğŸšŒ Bas Ekspres", "ğŸš‡ LRT", "ğŸš• Teksi", "ğŸ›µ Motosikal"],
                correct: 0,
                hint: "Fikirkan tentang jarak yang jauh dan masa perjalanan yang lama. Pengangkutan manakah yang sesuai untuk perjalanan antara negeri?"
            },
            {
                situation: "Siti bekerja di KLCC dan tinggal di Ampang. Dia perlu pergi bekerja setiap hari pada waktu pagi yang sibuk.",
                question: "Pengangkutan awam manakah yang paling praktikal untuk Siti?",
                options: ["ğŸš‡ LRT", "ğŸšŒ Bas Bandar", "ğŸš• Teksi", "ğŸš² Basikal"],
                correct: 0,
                hint: "Pertimbangkan kesesakan lalu lintas pada waktu pagi dan keperluan untuk sampai tepat pada masa."
            },
            {
                situation: "Keluarga Pak Ali ingin pergi bercuti ke Pulau Langkawi dari Kuala Perlis.",
                question: "Bagaimanakah mereka boleh sampai ke Pulau Langkawi?",
                options: ["ğŸš¢ Feri", "ğŸšŒ Bas", "ğŸš‡ MRT", "ğŸš• Teksi"],
                correct: 0,
                hint: "Pulau Langkawi dikelilingi oleh laut. Fikirkan pengangkutan yang boleh merentasi air."
            },
            {
                situation: "Aminah seorang pelajar universiti di Putrajaya. Dia perlu pergi ke perpustakaan yang terletak 2 stesen jauhnya.",
                question: "Apakah pilihan pengangkutan yang paling ekonomik untuk Aminah?",
                options: ["ğŸš‡ MRT", "ğŸš• Teksi", "ğŸš— Kereta Sewa", "ğŸš Helikopter"],
                correct: 0,
                hint: "Sebagai pelajar, Aminah perlu pilihan yang murah dan cekap untuk jarak yang pendek."
            },
            {
                situation: "Encik Lim perlu pergi ke lapangan terbang KLIA dari KL Sentral dengan bagasi yang banyak.",
                question: "Pengangkutan manakah yang paling sesuai?",
                options: ["ğŸš„ KLIA Ekspres", "ğŸšŒ Bas Bandar", "ğŸš‡ LRT", "ğŸš² Basikal"],
                correct: 0,
                hint: "Fikirkan tentang kelajuan, keselesaan, dan kemudahan untuk membawa bagasi berat."
            },
            {
                situation: "Puan Sarah tinggal di Klang dan bekerja di Shah Alam. Dia perlu pengangkutan harian yang boleh dipercayai.",
                question: "Apakah pilihan terbaik untuk Puan Sarah?",
                options: ["ğŸš‡ KTM Komuter", "ğŸš¢ Bot", "ğŸš Helikopter", "ğŸ›µ Motosikal"],
                correct: 0,
                hint: "KTM Komuter menghubungkan bandar-bandar di Lembah Klang dengan jadual yang tetap."
            },
            {
                situation: "Sekumpulan pelancong dari Singapura ingin melawat Melaka untuk sehari.",
                question: "Bagaimanakah cara yang paling praktikal untuk mereka?",
                options: ["ğŸšŒ Bas Ekspres", "ğŸš‡ MRT", "ğŸš¢ Kapal Terbang", "ğŸš² Basikal"],
                correct: 0,
                hint: "Pertimbangkan jarak antara Singapura dan Melaka, serta keperluan untuk perjalanan sehari."
            },
            {
                situation: "Azman perlu pergi dari Gombak ke Bukit Bintang untuk membeli-belah pada hujung minggu.",
                question: "Pengangkutan awam manakah yang menghubungkan kedua-dua tempat ini?",
                options: ["ğŸš‡ LRT", "ğŸš¢ Feri", "ğŸš Helikopter", "ğŸš‚ Kereta Api Laju"],
                correct: 0,
                hint: "LRT mempunyai laluan yang menghubungkan Gombak dengan pusat bandar Kuala Lumpur."
            },
            {
                situation: "Keluarga Cik Ros ingin pergi dari Butterworth ke Pulau Pinang untuk makan malam.",
                question: "Bagaimanakah mereka boleh menyeberang ke Pulau Pinang?",
                options: ["ğŸš¢ Feri Pulau Pinang", "ğŸšŒ Bas", "ğŸš‡ LRT", "ğŸš² Basikal"],
                correct: 0,
                hint: "Pulau Pinang dan Butterworth dipisahkan oleh selat. Apa pengangkutan yang menghubungkan kedua-duanya?"
            },
            {
                situation: "Hafiz seorang pekerja di Cyberjaya yang perlu pergi ke mesyuarat di Putrajaya Sentral.",
                question: "Apakah pengangkutan awam yang tersedia di kawasan ini?",
                options: ["ğŸšŒ Bas Nadi Putra", "ğŸš‡ LRT", "ğŸš¢ Bot", "ğŸš‚ KTM Intercity"],
                correct: 0,
                hint: "Cyberjaya dan Putrajaya mempunyai sistem bas tempatan yang menghubungkan kedua-dua bandar."
            }
        ];

        function loadQuestion() {
            const question = questions[currentQuestion];
            const container = document.getElementById('quiz-container');
            
            container.innerHTML = `
                <div class="fade-in">
                    <div class="mb-6">
                        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-4">
                            <h3 class="font-semibold text-blue-800 mb-2">ğŸ“ Situasi:</h3>
                            <p class="text-blue-700">${question.situation}</p>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-800">${question.question}</h3>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${question.options.map((option, index) => `
                            <button onclick="selectAnswer(${index})" 
                                    class="option-btn bg-gray-50 hover:bg-blue-50 border-2 border-gray-200 hover:border-blue-300 p-4 rounded-lg text-left transition-all duration-300 transform hover:scale-105">
                                <span class="text-lg">${option}</span>
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
            
            updateQuestionCount();
        }

        function selectAnswer(selectedIndex) {
            const question = questions[currentQuestion];
            const buttons = document.querySelectorAll('.option-btn');
            
            buttons.forEach((btn, index) => {
                btn.disabled = true;
                if (index === question.correct) {
                    btn.classList.add('bg-green-100', 'border-green-500', 'text-green-800');
                    btn.classList.remove('hover:bg-blue-50', 'hover:border-blue-300');
                } else if (index === selectedIndex && index !== question.correct) {
                    btn.classList.add('bg-red-100', 'border-red-500', 'text-red-800');
                    btn.classList.remove('hover:bg-blue-50', 'hover:border-blue-300');
                }
            });

            if (selectedIndex === question.correct) {
                score += 10;
                streak++;
                if (soundEnabled) playSuccessSound();
                showFeedback("Betul! ğŸ‰", "success");
            } else {
                streak = 0;
                if (soundEnabled) playErrorSound();
                showFeedback("Tidak tepat ğŸ˜”", "error");
            }

            updateScore();
            
            setTimeout(() => {
                currentQuestion++;
                if (currentQuestion < questions.length) {
                    loadQuestion();
                } else {
                    showResults();
                }
            }, 2000);
        }

        function showFeedback(message, type) {
            const feedback = document.createElement('div');
            feedback.className = `fixed top-4 right-4 p-4 rounded-lg text-white font-semibold z-50 bounce ${type === 'success' ? 'bg-green-500' : 'bg-red-500'}`;
            feedback.textContent = message;
            document.body.appendChild(feedback);
            
            setTimeout(() => {
                feedback.remove();
            }, 2000);
        }

        function updateScore() {
            document.getElementById('score').textContent = score;
            document.getElementById('streak').textContent = streak;
        }

        function updateQuestionCount() {
            document.getElementById('question-count').textContent = `${currentQuestion + 1}/${questions.length}`;
        }

        function showResults() {
            document.getElementById('quiz-container').classList.add('hidden');
            const resultsContainer = document.getElementById('results-container');
            resultsContainer.classList.remove('hidden');
            
            const percentage = (score / (questions.length * 10)) * 100;
            let emoji, title, message;
            
            if (percentage >= 90) {
                emoji = "ğŸ†";
                title = "Cemerlang!";
                message = `Anda mendapat ${score}/${questions.length * 10} markah (${percentage.toFixed(0)}%). Pengetahuan anda tentang pengangkutan awam Malaysia sangat baik!`;
            } else if (percentage >= 70) {
                emoji = "ğŸ‰";
                title = "Bagus!";
                message = `Anda mendapat ${score}/${questions.length * 10} markah (${percentage.toFixed(0)}%). Prestasi yang baik!`;
            } else if (percentage >= 50) {
                emoji = "ğŸ‘";
                title = "Tidak Buruk!";
                message = `Anda mendapat ${score}/${questions.length * 10} markah (${percentage.toFixed(0)}%). Teruskan usaha!`;
            } else {
                emoji = "ğŸ’ª";
                title = "Teruskan Usaha";
                message = `Anda mendapat ${score}/${questions.length * 10} markah (${percentage.toFixed(0)}%). Jangan putus asa, cuba lagi!`;
            }
            
            document.getElementById('result-emoji').textContent = emoji;
            document.getElementById('result-title').textContent = title;
            document.getElementById('result-message').textContent = message;
        }

        function resetQuiz() {
            currentQuestion = 0;
            score = 0;
            streak = 0;
            updateScore();
            document.getElementById('results-container').classList.add('hidden');
            document.getElementById('quiz-container').classList.remove('hidden');
            loadQuestion();
        }

        function showHint() {
            const question = questions[currentQuestion];
            document.getElementById('hint-text').textContent = question.hint;
            document.getElementById('hint-modal').classList.remove('hidden');
            document.getElementById('hint-modal').classList.add('flex');
        }

        function closeHint() {
            document.getElementById('hint-modal').classList.add('hidden');
            document.getElementById('hint-modal').classList.remove('flex');
        }

        function showStats() {
            const percentage = currentQuestion > 0 ? (score / (currentQuestion * 10)) * 100 : 0;
            alert(`ğŸ“Š Statistik Semasa:\n\nâœ… Soalan Dijawab: ${currentQuestion}/${questions.length}\nğŸ¯ Markah: ${score}/${questions.length * 10}\nğŸ“ˆ Peratusan: ${percentage.toFixed(1)}%\nğŸ”¥ Streak: ${streak}`);
        }

        function showProgress() {
            const percentage = currentQuestion > 0 ? (score / (currentQuestion * 10)) * 100 : 0;
            const progressBar = `
                <div class="mb-4">
                    <div class="flex justify-between text-sm mb-2">
                        <span>Kemajuan Keseluruhan</span>
                        <span>${currentQuestion}/${questions.length}</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3">
                        <div class="bg-blue-600 h-3 rounded-full transition-all duration-500" style="width: ${(currentQuestion/questions.length)*100}%"></div>
                    </div>
                </div>
                <div class="mb-4">
                    <div class="flex justify-between text-sm mb-2">
                        <span>Prestasi</span>
                        <span>${percentage.toFixed(1)}%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3">
                        <div class="bg-green-600 h-3 rounded-full transition-all duration-500" style="width: ${percentage}%"></div>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4 text-center">
                    <div class="bg-blue-50 p-3 rounded-lg">
                        <div class="text-2xl font-bold text-blue-600">${score}</div>
                        <div class="text-sm text-gray-600">Markah</div>
                    </div>
                    <div class="bg-orange-50 p-3 rounded-lg">
                        <div class="text-2xl font-bold text-orange-600">${streak}</div>
                        <div class="text-sm text-gray-600">Streak</div>
                    </div>
                </div>
            `;
            
            document.getElementById('progress-content').innerHTML = progressBar;
            document.getElementById('progress-modal').classList.remove('hidden');
            document.getElementById('progress-modal').classList.add('flex');
        }

        function closeProgress() {
            document.getElementById('progress-modal').classList.add('hidden');
            document.getElementById('progress-modal').classList.remove('flex');
        }

        function showNotes() {
            document.getElementById('notes-modal').classList.remove('hidden');
            document.getElementById('notes-modal').classList.add('flex');
        }

        function closeNotes() {
            document.getElementById('notes-modal').classList.add('hidden');
            document.getElementById('notes-modal').classList.remove('flex');
        }

        function toggleSound() {
            soundEnabled = !soundEnabled;
            const btn = event.target;
            btn.textContent = soundEnabled ? 'ğŸ”Š Bunyi' : 'ğŸ”‡ Bunyi';
        }

        function playSuccessSound() {
            // Simple audio feedback using Web Audio API
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
            oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1); // E5
            oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2); // G5
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.3);
        }

        function playErrorSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
            oscillator.frequency.setValueAtTime(150, audioContext.currentTime + 0.1);
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.2);
        }

        // Initialize the quiz
        loadQuestion();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9831aff614cc9103',t:'MTc1ODU0MjkwMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
