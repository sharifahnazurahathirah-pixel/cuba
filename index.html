<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Praktis Perlakuan - Pendidikan Moral Tingkatan 1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .correct-answer {
            background: linear-gradient(135deg, #4ade80, #22c55e);
            animation: correctPulse 0.6s ease-in-out;
        }
        
        .wrong-answer {
            background: linear-gradient(135deg, #f87171, #ef4444);
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .progress-bar {
            transition: width 0.5s ease-in-out;
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #f39c12;
            animation: confetti-fall 3s linear infinite;
            z-index: 1000;
        }
        
        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div class="container mx-auto px-4 py-6">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-white mb-2">üéØ Praktis: Perlakuan Baik, Benar dan Patut</h1>
            <p class="text-lg text-purple-100">Pendidikan Moral Tingkatan 1 - Unit 1</p>
            <div class="mt-4 bg-white/20 backdrop-blur-sm rounded-full px-6 py-2 inline-block">
                <span class="text-white font-medium">Skor: <span id="score">0</span>/10</span>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="mb-6">
            <div class="bg-white/20 rounded-full h-3 overflow-hidden">
                <div id="progressBar" class="progress-bar bg-gradient-to-r from-yellow-400 to-orange-500 h-full rounded-full" style="width: 0%"></div>
            </div>
            <p class="text-center text-white mt-2">Soalan <span id="currentQuestion">1</span> daripada 10</p>
        </div>

        <!-- Main Content -->
        <div id="gameArea" class="max-w-4xl mx-auto">
            <!-- Definition Cards -->
            <div id="definitionSection" class="grid md:grid-cols-3 gap-4 mb-8">
                <div class="bg-white/95 backdrop-blur-sm rounded-xl p-6 card-hover border-l-4 border-blue-500">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3">üíô</span>
                        <h3 class="text-lg font-semibold text-blue-700">Perlakuan Baik</h3>
                    </div>
                    <p class="text-gray-700 text-sm">Tindakan yang membawa kebaikan dan manfaat kepada diri sendiri dan orang lain</p>
                </div>
                
                <div class="bg-white/95 backdrop-blur-sm rounded-xl p-6 card-hover border-l-4 border-green-500">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3">‚öñÔ∏è</span>
                        <h3 class="text-lg font-semibold text-green-700">Perlakuan Patut</h3>
                    </div>
                    <p class="text-gray-700 text-sm">Tindakan yang sesuai dengan norma, adat dan budaya masyarakat</p>
                </div>
                
                <div class="bg-white/95 backdrop-blur-sm rounded-xl p-6 card-hover border-l-4 border-purple-500">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3">‚úÖ</span>
                        <h3 class="text-lg font-semibold text-purple-700">Perlakuan Benar</h3>
                    </div>
                    <p class="text-gray-700 text-sm">Tindakan yang mengikut prinsip kebenaran dan tidak melanggar undang-undang</p>
                </div>
            </div>

            <!-- Question Card -->
            <div id="questionCard" class="bg-white/95 backdrop-blur-sm rounded-xl p-6 md:p-8 mb-6 card-hover">
                <div class="text-center mb-6">
                    <span id="questionEmoji" class="text-4xl mb-4 block">ü§î</span>
                    <h2 class="text-xl md:text-2xl font-semibold text-gray-800 mb-4" id="questionText">Loading...</h2>
                </div>
                
                <div id="optionsContainer" class="grid gap-3">
                    <!-- Options will be populated by JavaScript -->
                </div>
            </div>

            <!-- Feedback Section -->
            <div id="feedbackSection" class="hidden bg-white/95 backdrop-blur-sm rounded-xl p-6 mb-6">
                <div class="text-center">
                    <span id="feedbackEmoji" class="text-4xl mb-3 block"></span>
                    <h3 id="feedbackTitle" class="text-xl font-semibold mb-2"></h3>
                    <p id="feedbackText" class="text-gray-700 mb-4"></p>
                    <button id="nextButton" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-lg font-medium hover:from-purple-600 hover:to-pink-600 transition-all duration-300 pulse-animation">
                        Soalan Seterusnya ‚û°Ô∏è
                    </button>
                </div>
            </div>

            <!-- Results Section -->
            <div id="resultsSection" class="hidden bg-white/95 backdrop-blur-sm rounded-xl p-6 md:p-8 text-center">
                <span id="resultEmoji" class="text-6xl mb-4 block"></span>
                <h2 id="resultTitle" class="text-2xl md:text-3xl font-bold mb-4"></h2>
                <p id="resultText" class="text-lg text-gray-700 mb-6"></p>
                <div class="grid md:grid-cols-2 gap-4 max-w-md mx-auto">
                    <button id="reviewButton" class="bg-gradient-to-r from-green-500 to-teal-500 text-white px-6 py-4 rounded-lg font-medium hover:from-green-600 hover:to-teal-600 transition-all duration-300 text-sm md:text-base shadow-lg hover:shadow-xl transform hover:scale-105">
                        üìö Semak Jawapan
                    </button>
                    <button id="practiceButton" class="bg-gradient-to-r from-pink-500 to-rose-500 text-white px-6 py-4 rounded-lg font-medium hover:from-pink-600 hover:to-rose-600 transition-all duration-300 text-sm md:text-base shadow-lg hover:shadow-xl transform hover:scale-105">
                        üéØ Latih Tubi
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                emoji: "ü§ù",
                question: "Ahmad membantu nenek menyeberang jalan",
                options: ["Perlakuan Baik", "Perlakuan Patut", "Perlakuan Benar"],
                correct: 0,
                explanation: "Membantu orang tua adalah tindakan yang membawa kebaikan kepada orang lain."
            },
            {
                emoji: "üôè",
                question: "Siti mengucapkan salam apabila masuk ke rumah",
                options: ["Perlakuan Baik", "Perlakuan Patut", "Perlakuan Benar"],
                correct: 1,
                explanation: "Mengucapkan salam adalah adat dan budaya yang sesuai dalam masyarakat kita."
            },
            {
                emoji: "üö¶",
                question: "Ali mematuhi lampu isyarat semasa memandu",
                options: ["Perlakuan Baik", "Perlakuan Patut", "Perlakuan Benar"],
                correct: 2,
                explanation: "Mematuhi undang-undang jalan raya adalah perlakuan benar mengikut peraturan."
            },
            {
                emoji: "üí∞",
                question: "Fatimah memulangkan dompet yang dijumpainya",
                options: ["Perlakuan Baik", "Perlakuan Patut", "Perlakuan Benar"],
                correct: 2,
                explanation: "Memulangkan barang orang lain adalah mengikut prinsip kebenaran dan undang-undang."
            },
            {
                emoji: "üë•",
                question: "Hassan beratur dengan tertib di kedai",
                options: ["Perlakuan Baik", "Perlakuan Patut", "Perlakuan Benar"],
                correct: 1,
                explanation: "Beratur dengan tertib adalah norma dan adat yang sesuai dalam masyarakat."
            },
            {
                emoji: "üéÅ",
                question: "Aminah memberikan sedekah kepada fakir miskin",
                options: ["Perlakuan Baik", "Perlakuan Patut", "Perlakuan Benar"],
                correct: 0,
                explanation: "Bersedekah adalah tindakan baik yang membawa manfaat kepada orang yang memerlukan."
            },
            {
                emoji: "üìö",
                question: "Razak tidak menyalin kerja rakan semasa peperiksaan",
                options: ["Perlakuan Baik", "Perlakuan Patut", "Perlakuan Benar"],
                correct: 2,
                explanation: "Tidak meniru adalah mengikut prinsip kebenaran dan peraturan sekolah."
            },
            {
                emoji: "üçΩÔ∏è",
                question: "Maryam tidak membuang makanan",
                options: ["Perlakuan Baik", "Perlakuan Patut", "Perlakuan Benar"],
                correct: 0,
                explanation: "Tidak membazir makanan adalah tindakan baik yang membawa manfaat."
            },
            {
                emoji: "üë®‚Äçüë©‚Äçüëß‚Äçüë¶",
                question: "Karim menghormati ibu bapa",
                options: ["Perlakuan Baik", "Perlakuan Patut", "Perlakuan Benar"],
                correct: 1,
                explanation: "Menghormati ibu bapa adalah norma dan budaya yang sesuai dalam masyarakat."
            },
            {
                emoji: "üå±",
                question: "Lina tidak membuang sampah merata-rata",
                options: ["Perlakuan Baik", "Perlakuan Patut", "Perlakuan Benar"],
                correct: 2,
                explanation: "Tidak membuang sampah sembarangan mengikut undang-undang dan peraturan kebersihan."
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = [];

        function updateProgress() {
            const progress = ((currentQuestionIndex) / questions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
        }

        function displayQuestion() {
            const question = questions[currentQuestionIndex];
            document.getElementById('questionEmoji').textContent = question.emoji;
            document.getElementById('questionText').textContent = question.question;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'bg-gradient-to-r from-gray-50 to-gray-100 hover:from-blue-50 hover:to-blue-100 border-2 border-gray-200 hover:border-blue-300 rounded-lg p-4 text-left transition-all duration-300 card-hover';
                button.innerHTML = `
                    <div class="flex items-center">
                        <span class="w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center mr-3 font-semibold">${String.fromCharCode(65 + index)}</span>
                        <span class="font-medium text-gray-800">${option}</span>
                    </div>
                `;
                button.onclick = () => selectAnswer(index, button);
                optionsContainer.appendChild(button);
            });
            
            updateProgress();
        }

        function selectAnswer(selectedIndex, buttonElement) {
            const question = questions[currentQuestionIndex];
            const isCorrect = selectedIndex === question.correct;
            
            userAnswers.push({
                question: question.question,
                selected: question.options[selectedIndex],
                correct: question.options[question.correct],
                isCorrect: isCorrect
            });
            
            // Disable all buttons
            const buttons = document.querySelectorAll('#optionsContainer button');
            buttons.forEach(btn => btn.disabled = true);
            
            // Show correct/incorrect styling
            if (isCorrect) {
                buttonElement.className = 'correct-answer border-2 border-green-400 rounded-lg p-4 text-left text-white font-semibold';
                score++;
            } else {
                buttonElement.className = 'wrong-answer border-2 border-red-400 rounded-lg p-4 text-left text-white font-semibold';
                // Highlight correct answer
                buttons[question.correct].className = 'correct-answer border-2 border-green-400 rounded-lg p-4 text-left text-white font-semibold';
            }
            
            document.getElementById('score').textContent = score;
            
            // Show feedback
            setTimeout(() => {
                showFeedback(isCorrect, question.explanation);
            }, 1000);
        }

        function showFeedback(isCorrect, explanation) {
            document.getElementById('questionCard').style.display = 'none';
            document.getElementById('feedbackSection').classList.remove('hidden');
            
            if (isCorrect) {
                document.getElementById('feedbackEmoji').textContent = 'üéâ';
                document.getElementById('feedbackTitle').textContent = 'Betul!';
                document.getElementById('feedbackTitle').className = 'text-xl font-semibold mb-2 text-green-600';
            } else {
                document.getElementById('feedbackEmoji').textContent = 'üòÖ';
                document.getElementById('feedbackTitle').textContent = 'Tidak tepat';
                document.getElementById('feedbackTitle').className = 'text-xl font-semibold mb-2 text-red-600';
            }
            
            document.getElementById('feedbackText').textContent = explanation;
        }

        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex >= questions.length) {
                showResults();
            } else {
                document.getElementById('feedbackSection').classList.add('hidden');
                document.getElementById('questionCard').style.display = 'block';
                displayQuestion();
            }
        }

        function showResults() {
            // Hide other sections
            document.getElementById('definitionSection').style.display = 'none';
            document.getElementById('questionCard').style.display = 'none';
            document.getElementById('feedbackSection').classList.add('hidden');
            
            // Show results section
            document.getElementById('resultsSection').classList.remove('hidden');
            
            const percentage = (score / questions.length) * 100;
            let motivationalMessage = '';
            
            if (percentage === 100) {
                document.getElementById('resultEmoji').textContent = 'üåü';
                document.getElementById('resultTitle').textContent = 'Sempurna!';
                document.getElementById('resultTitle').className = 'text-2xl md:text-3xl font-bold mb-4 text-yellow-500';
                motivationalMessage = `Luar biasa! Anda mendapat markah penuh ${score}/${questions.length} (${percentage.toFixed(0)}%)! üéØ Anda benar-benar memahami perbezaan antara perlakuan baik, perlakuan patut dan perlakuan benar. Teruskan sikap cemerlang ini dalam kehidupan seharian!`;
            } else if (percentage >= 80) {
                document.getElementById('resultEmoji').textContent = 'üèÜ';
                document.getElementById('resultTitle').textContent = 'Cemerlang!';
                document.getElementById('resultTitle').className = 'text-2xl md:text-3xl font-bold mb-4 text-yellow-600';
                motivationalMessage = `Tahniah! Anda mendapat ${score}/${questions.length} (${percentage.toFixed(0)}%)! üéâ Pencapaian yang sangat baik! Anda hampir menguasai sepenuhnya konsep ketiga-tiga perlakuan ini. Sedikit lagi usaha untuk mencapai kesempurnaan!`;
            } else if (percentage >= 60) {
                document.getElementById('resultEmoji').textContent = 'üëç';
                document.getElementById('resultTitle').textContent = 'Baik!';
                document.getElementById('resultTitle').className = 'text-2xl md:text-3xl font-bold mb-4 text-blue-600';
                motivationalMessage = `Bagus! Anda mendapat ${score}/${questions.length} (${percentage.toFixed(0)}%)! üí™ Anda sudah memahami asas-asas penting. Dengan sedikit latihan lagi, anda pasti boleh mencapai tahap cemerlang. Jangan berputus asa!`;
            } else if (percentage >= 40) {
                document.getElementById('resultEmoji').textContent = 'üìö';
                document.getElementById('resultTitle').textContent = 'Teruskan Usaha!';
                document.getElementById('resultTitle').className = 'text-2xl md:text-3xl font-bold mb-4 text-orange-600';
                motivationalMessage = `Anda mendapat ${score}/${questions.length} (${percentage.toFixed(0)}%). üå± Ini adalah permulaan yang baik! Baca semula definisi ketiga-tiga perlakuan dan cuba lagi. Setiap kesilapan adalah peluang untuk belajar!`;
            } else {
                document.getElementById('resultEmoji').textContent = 'üí™';
                document.getElementById('resultTitle').textContent = 'Jangan Berputus Asa!';
                document.getElementById('resultTitle').className = 'text-2xl md:text-3xl font-bold mb-4 text-red-600';
                motivationalMessage = `Anda mendapat ${score}/${questions.length} (${percentage.toFixed(0)}%). üåü Setiap pakar pernah menjadi pemula! Baca balik definisi dengan teliti dan cuba sekali lagi. Anda pasti boleh buat yang lebih baik!`;
            }
            
            document.getElementById('resultText').textContent = motivationalMessage;
            
            // Add achievement badges
            let badgeHTML = '<div class="mt-6 flex justify-center flex-wrap gap-2">';
            if (percentage === 100) {
                badgeHTML += '<span class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium">üèÜ Pakar Perlakuan</span>';
                badgeHTML += '<span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium">‚≠ê Markah Penuh</span>';
            } else if (percentage >= 80) {
                badgeHTML += '<span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">üéØ Cemerlang</span>';
            } else if (percentage >= 60) {
                badgeHTML += '<span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium">üëç Baik</span>';
            }
            if (score >= 5) {
                badgeHTML += '<span class="bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium">üî• Separuh Jalan</span>';
            }
            badgeHTML += '</div>';
            
            document.getElementById('resultText').insertAdjacentHTML('afterend', badgeHTML);
            
            // Add confetti for high scores
            if (percentage >= 80) {
                createConfetti();
            }
        }

        function restartGame() {
            // Reset all game variables
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = [];
            
            // Reset display elements
            document.getElementById('score').textContent = '0';
            document.getElementById('progressBar').style.width = '0%';
            document.getElementById('currentQuestion').textContent = '1';
            
            // Reset title
            document.querySelector('h1').innerHTML = 'üéØ Praktis Perlakuan';
            
            // Show all sections properly
            document.getElementById('definitionSection').style.display = 'grid';
            document.getElementById('questionCard').style.display = 'block';
            document.getElementById('feedbackSection').classList.add('hidden');
            document.getElementById('resultsSection').classList.add('hidden');
            
            // Clear and reset game area
            const gameArea = document.getElementById('gameArea');
            gameArea.innerHTML = `
                <!-- Definition Cards -->
                <div id="definitionSection" class="grid md:grid-cols-3 gap-4 mb-8">
                    <div class="bg-white/95 backdrop-blur-sm rounded-xl p-6 card-hover border-l-4 border-blue-500">
                        <div class="flex items-center mb-3">
                            <span class="text-2xl mr-3">üíô</span>
                            <h3 class="text-lg font-semibold text-blue-700">Perlakuan Baik</h3>
                        </div>
                        <p class="text-gray-700 text-sm">Tindakan yang membawa kebaikan dan manfaat kepada diri sendiri dan orang lain</p>
                    </div>
                    
                    <div class="bg-white/95 backdrop-blur-sm rounded-xl p-6 card-hover border-l-4 border-green-500">
                        <div class="flex items-center mb-3">
                            <span class="text-2xl mr-3">‚öñÔ∏è</span>
                            <h3 class="text-lg font-semibold text-green-700">Perlakuan Patut</h3>
                        </div>
                        <p class="text-gray-700 text-sm">Tindakan yang sesuai dengan norma, adat dan budaya masyarakat</p>
                    </div>
                    
                    <div class="bg-white/95 backdrop-blur-sm rounded-xl p-6 card-hover border-l-4 border-purple-500">
                        <div class="flex items-center mb-3">
                            <span class="text-2xl mr-3">‚úÖ</span>
                            <h3 class="text-lg font-semibold text-purple-700">Perlakuan Benar</h3>
                        </div>
                        <p class="text-gray-700 text-sm">Tindakan yang mengikut prinsip kebenaran dan tidak melanggar undang-undang</p>
                    </div>
                </div>

                <!-- Question Card -->
                <div id="questionCard" class="bg-white/95 backdrop-blur-sm rounded-xl p-6 md:p-8 mb-6 card-hover">
                    <div class="text-center mb-6">
                        <span id="questionEmoji" class="text-4xl mb-4 block">ü§î</span>
                        <h2 class="text-xl md:text-2xl font-semibold text-gray-800 mb-4" id="questionText">Loading...</h2>
                    </div>
                    
                    <div id="optionsContainer" class="grid gap-3">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Feedback Section -->
                <div id="feedbackSection" class="hidden bg-white/95 backdrop-blur-sm rounded-xl p-6 mb-6">
                    <div class="text-center">
                        <span id="feedbackEmoji" class="text-4xl mb-3 block"></span>
                        <h3 id="feedbackTitle" class="text-xl font-semibold mb-2"></h3>
                        <p id="feedbackText" class="text-gray-700 mb-4"></p>
                        <button id="nextButton" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-lg font-medium hover:from-purple-600 hover:to-pink-600 transition-all duration-300 pulse-animation">
                            Soalan Seterusnya ‚û°Ô∏è
                        </button>
                    </div>
                </div>

                <!-- Results Section -->
                <div id="resultsSection" class="hidden bg-white/95 backdrop-blur-sm rounded-xl p-6 md:p-8 text-center">
                    <span id="resultEmoji" class="text-6xl mb-4 block"></span>
                    <h2 id="resultTitle" class="text-2xl md:text-3xl font-bold mb-4"></h2>
                    <p id="resultText" class="text-lg text-gray-700 mb-6"></p>
                    <div class="grid md:grid-cols-3 gap-3">
                        <button id="restartButton" class="bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-3 rounded-lg font-medium hover:from-blue-600 hover:to-purple-600 transition-all duration-300 text-sm md:text-base shadow-lg hover:shadow-xl transform hover:scale-105">
                            üîÑ Cuba Lagi
                        </button>
                        <button id="reviewButton" class="bg-gradient-to-r from-green-500 to-teal-500 text-white px-4 py-3 rounded-lg font-medium hover:from-green-600 hover:to-teal-600 transition-all duration-300 text-sm md:text-base shadow-lg hover:shadow-xl transform hover:scale-105">
                            üìö Semak Jawapan
                        </button>
                        <button id="practiceButton" class="bg-gradient-to-r from-pink-500 to-rose-500 text-white px-4 py-3 rounded-lg font-medium hover:from-pink-600 hover:to-rose-600 transition-all duration-300 text-sm md:text-base shadow-lg hover:shadow-xl transform hover:scale-105">
                            üéØ Latih Tubi
                        </button>
                    </div>
                </div>
            `;
            
            // Re-attach event listeners
            attachEventListeners();
            
            // Start first question
            displayQuestion();
        }

        function showReview() {
            let reviewHTML = '<div class="bg-white/95 backdrop-blur-sm rounded-xl p-6"><h3 class="text-xl font-bold mb-4 text-center">üìã Semakan Jawapan</h3>';
            
            userAnswers.forEach((answer, index) => {
                const statusIcon = answer.isCorrect ? '‚úÖ' : '‚ùå';
                const statusColor = answer.isCorrect ? 'text-green-600' : 'text-red-600';
                
                reviewHTML += `
                    <div class="mb-4 p-4 border rounded-lg ${answer.isCorrect ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'}">
                        <div class="flex items-start">
                            <span class="text-xl mr-2">${statusIcon}</span>
                            <div class="flex-1">
                                <p class="font-medium mb-1">${index + 1}. ${answer.question}</p>
                                <p class="text-sm ${statusColor}">Jawapan anda: ${answer.selected}</p>
                                ${!answer.isCorrect ? `<p class="text-sm text-green-600">Jawapan betul: ${answer.correct}</p>` : ''}
                            </div>
                        </div>
                    </div>
                `;
            });
            
            reviewHTML += `
                <div class="grid md:grid-cols-2 gap-3 mt-4 max-w-md mx-auto">
                    <button onclick="location.reload()" class="bg-gradient-to-r from-blue-500 to-purple-500 text-white px-6 py-3 rounded-lg font-medium hover:from-blue-600 hover:to-purple-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                        üè† Kembali ke Menu
                    </button>
                    <button onclick="startPracticeMode()" class="bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-3 rounded-lg font-medium hover:from-orange-600 hover:to-red-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                        üéØ Latih Tubi
                    </button>
                </div>
            </div>`;
            
            document.getElementById('gameArea').innerHTML = reviewHTML;
        }

        function startPracticeMode() {
            // Shuffle questions for practice mode
            const shuffledQuestions = [...questions].sort(() => Math.random() - 0.5);
            questions.length = 0;
            questions.push(...shuffledQuestions);
            
            // Reset game state
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = [];
            
            // Reset display elements
            document.getElementById('score').textContent = '0';
            document.getElementById('progressBar').style.width = '0%';
            document.getElementById('currentQuestion').textContent = '1';
            
            // Show practice mode indicator
            document.querySelector('h1').innerHTML = 'üéØ Praktis Perlakuan <span class="text-sm bg-pink-500 px-2 py-1 rounded-full">Mod Latih Tubi</span>';
            
            // Reset game area to original state
            const gameArea = document.getElementById('gameArea');
            gameArea.innerHTML = `
                <!-- Definition Cards -->
                <div id="definitionSection" class="grid md:grid-cols-3 gap-4 mb-8">
                    <div class="bg-white/95 backdrop-blur-sm rounded-xl p-6 card-hover border-l-4 border-blue-500">
                        <div class="flex items-center mb-3">
                            <span class="text-2xl mr-3">üíô</span>
                            <h3 class="text-lg font-semibold text-blue-700">Perlakuan Baik</h3>
                        </div>
                        <p class="text-gray-700 text-sm">Tindakan yang membawa kebaikan dan manfaat kepada diri sendiri dan orang lain</p>
                    </div>
                    
                    <div class="bg-white/95 backdrop-blur-sm rounded-xl p-6 card-hover border-l-4 border-green-500">
                        <div class="flex items-center mb-3">
                            <span class="text-2xl mr-3">‚öñÔ∏è</span>
                            <h3 class="text-lg font-semibold text-green-700">Perlakuan Patut</h3>
                        </div>
                        <p class="text-gray-700 text-sm">Tindakan yang sesuai dengan norma, adat dan budaya masyarakat</p>
                    </div>
                    
                    <div class="bg-white/95 backdrop-blur-sm rounded-xl p-6 card-hover border-l-4 border-purple-500">
                        <div class="flex items-center mb-3">
                            <span class="text-2xl mr-3">‚úÖ</span>
                            <h3 class="text-lg font-semibold text-purple-700">Perlakuan Benar</h3>
                        </div>
                        <p class="text-gray-700 text-sm">Tindakan yang mengikut prinsip kebenaran dan tidak melanggar undang-undang</p>
                    </div>
                </div>

                <!-- Question Card -->
                <div id="questionCard" class="bg-white/95 backdrop-blur-sm rounded-xl p-6 md:p-8 mb-6 card-hover">
                    <div class="text-center mb-6">
                        <span id="questionEmoji" class="text-4xl mb-4 block">ü§î</span>
                        <h2 class="text-xl md:text-2xl font-semibold text-gray-800 mb-4" id="questionText">Loading...</h2>
                    </div>
                    
                    <div id="optionsContainer" class="grid gap-3">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Feedback Section -->
                <div id="feedbackSection" class="hidden bg-white/95 backdrop-blur-sm rounded-xl p-6 mb-6">
                    <div class="text-center">
                        <span id="feedbackEmoji" class="text-4xl mb-3 block"></span>
                        <h3 id="feedbackTitle" class="text-xl font-semibold mb-2"></h3>
                        <p id="feedbackText" class="text-gray-700 mb-4"></p>
                        <button id="nextButton" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-lg font-medium hover:from-purple-600 hover:to-pink-600 transition-all duration-300 pulse-animation">
                            Soalan Seterusnya ‚û°Ô∏è
                        </button>
                    </div>
                </div>

                <!-- Results Section -->
                <div id="resultsSection" class="hidden bg-white/95 backdrop-blur-sm rounded-xl p-6 md:p-8 text-center">
                    <span id="resultEmoji" class="text-6xl mb-4 block"></span>
                    <h2 id="resultTitle" class="text-2xl md:text-3xl font-bold mb-4"></h2>
                    <p id="resultText" class="text-lg text-gray-700 mb-6"></p>
                    <div class="grid md:grid-cols-3 gap-3">
                        <button id="restartButton" class="bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-3 rounded-lg font-medium hover:from-blue-600 hover:to-purple-600 transition-all duration-300 text-sm md:text-base shadow-lg hover:shadow-xl transform hover:scale-105">
                            üîÑ Cuba Lagi
                        </button>
                        <button id="reviewButton" class="bg-gradient-to-r from-green-500 to-teal-500 text-white px-4 py-3 rounded-lg font-medium hover:from-green-600 hover:to-teal-600 transition-all duration-300 text-sm md:text-base shadow-lg hover:shadow-xl transform hover:scale-105">
                            üìö Semak Jawapan
                        </button>
                        <button id="practiceButton" class="bg-gradient-to-r from-pink-500 to-rose-500 text-white px-4 py-3 rounded-lg font-medium hover:from-pink-600 hover:to-rose-600 transition-all duration-300 text-sm md:text-base shadow-lg hover:shadow-xl transform hover:scale-105">
                            üéØ Latih Tubi
                        </button>
                    </div>
                </div>
            `;
            
            // Re-attach event listeners
            attachEventListeners();
            
            // Start first question
            displayQuestion();
        }

        function createConfetti() {
            const colors = ['#f39c12', '#e74c3c', '#3498db', '#2ecc71', '#9b59b6', '#f1c40f'];
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 3 + 's';
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, 3000);
                }, i * 100);
            }
        }

        function attachEventListeners() {
            // Re-attach all event listeners after DOM changes
            const nextBtn = document.getElementById('nextButton');
            const restartBtn = document.getElementById('restartButton');
            const reviewBtn = document.getElementById('reviewButton');
            const practiceBtn = document.getElementById('practiceButton');
            
            if (nextBtn) nextBtn.onclick = nextQuestion;
            if (restartBtn) restartBtn.onclick = restartGame;
            if (reviewBtn) reviewBtn.onclick = showReview;
            if (practiceBtn) practiceBtn.onclick = startPracticeMode;
        }

        // Event listeners - Initial setup
        attachEventListeners();

        // Initialize game
        displayQuestion();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98405ac970841ec5',t:'MTc1ODY5NjcwMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
